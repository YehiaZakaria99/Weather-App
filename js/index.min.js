let homeLink=document.querySelector(".nav-item [href ='#home']"),contactLink=document.querySelector(".nav-item [href ='#contact']"),homeSection=document.getElementById("home"),contactSection=document.getElementById("contact"),homeLinkContact=document.querySelector(".contact [href ='#home']"),findInput=document.getElementById("findInput"),loading=document.getElementById("loading"),loc,todayWeather=document.getElementById("todayWeather"),tomorrowWeather=document.getElementById("tomorrowWeather"),afterTomorrowWeather=document.getElementById("afterTomorrowWeather");const day=["Sunday","Monday","Tuesday","Wedensday","Thursday","Friday","Saturday",],month=["January","February","March","April","May","June","July","August","September","October","November","December",],date=new Date;function homePage(){homeLink.classList.add("active"),contactLink.classList.remove("active"),contactSection.classList.add("d-none"),homeSection.classList.remove("d-none")}function contactPage(){contactLink.classList.add("active"),homeLink.classList.remove("active"),contactSection.classList.remove("d-none"),homeSection.classList.add("d-none")}async function getWeather(e){try{loading.classList.remove("d-none");let t=await (await fetch(`https://api.weatherapi.com/v1/forecast.json?key=0347946360ad420698000159240812&q=${e}&days=3`)).json(),a=t.forecast.forecastday;displayWeatherToday(t),weatherForecast(a,1,tomorrowWeather),weatherForecast(a,2,afterTomorrowWeather)}catch(n){console.log("Error Input")}finally{loading.classList.add("d-none")}}function displayWeatherToday(e){let t=`
    <div class="header d-flex justify-content-between">
      <span class="day">
        ${day[date.getDay()]}
      </span>
      <span class="date">
        ${date.getDate()} ${month[date.getMonth()]}
      </span>
    </div>
    <div class="body py-4">
      <h2 class="h3 location fs-5 px-3">${e.location.name}</h3>
      <div class= "weather-status">
        <p class="weather-degree display-1 text-white fw-bold px-4 ">${e.current.temp_c}<sup>o</sup>C</p>
        <div class="img-box">
          <img class="w-50" src="${e.current.condition.icon}" alt="hilal">
        </div>
      </div>
      <div class="status px-3 mb-2">${e.current.condition.text}</div>
      <div class="more-details px-3 my-3 d-flex justify-content-between w-75">
        <span>
          <i class="fa-solid fa-umbrella"></i>
          20%
        </span>
        <span>
          <i class="fa-solid fa-wind"></i>
          18km/h
        </span>
        <span>
          <i class="fa-solid fa-compass"></i>
          East
        </span>
      </div>
    </div>
  `;todayWeather.innerHTML=t}function weatherForecast(e,t,a){let n=`
    <div class="header d-flex justify-content-center">
      <span class="day">
        ${day[date.getDay()+t]}
      </span>
    </div>
    <div class="body py-4 text-center">
      <div class="img-box">
        <img class="" src="${e[t].day.condition.icon}" alt="113">
      </div>
      <p class="weather-degree text-white fw-bold px-4 fs-4 mb-0 mt-2">${e[t].day.maxtemp_c}<sup>o</sup>C</p>
      <p class="weather-degree fw-bold px-4 fw-light">${e[t].day.mintemp_c}<sup>o</sup></p>
      <div class="status px-3 mb-2">${e[t].day.condition.text}</div>
    </div>
  `;a.innerHTML=n}async function getIp(){try{return(await (await fetch("https://api.ipgeolocation.io/getip")).json()).ip}catch(e){console.log("Error ip")}}async function getLocation(e){try{return(await (await fetch(`https://api.ipgeolocation.io/ipgeo?apiKey=9fc9774240d746dd8b95b968332ec86c&ip=${e}`)).json()).country_capital}catch(t){console.log("Error location")}}!function(){let e=document.getElementById("playAudio");document.querySelector(".bg-img .empty").addEventListener("click",function(){e.play(),t.pause()});let t=document.getElementById("playAudioEng");document.getElementById("tel").addEventListener("click",function(a){t.play(),e.pause()})}(),homeLink.addEventListener("click",function(e){homePage()}),homeLinkContact.addEventListener("click",function(e){homePage()}),contactLink.addEventListener("click",function(e){contactPage()}),async function(){await getWeather(loc=await getLocation(await getIp()))}(),findInput.addEventListener("input",function(e){e.target.value||getWeather(loc),console.log(e.target.value),getWeather(e.target.value.toLowerCase())});